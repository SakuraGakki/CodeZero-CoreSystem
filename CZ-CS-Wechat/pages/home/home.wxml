<view class="container">
  <i-drawer mode="right" visible="{{showContent}}" bind:close="closeNewsContent">    
    <view slot="content" style="width: 100%;height:600px;background-color: aliceblue;overflow:auto">
      <rich-text nodes="{{newsContent}}" style="overflow-x: auto;"></rich-text>
      <i-button bind:click="closeNewsContent" type="primary">关闭</i-button>
    </view>
  </i-drawer>
  
    <i-message id="message" />
    <!-- 授权弹窗 -->
    <i-modal title="提示" visible="{{ !hasUserInfo }}" actions="{{ actions }}" bind:click="handleClick">
        <view><text>请先进行授权\n以便获得更好的个性化体验！</text></view>
    </i-modal>

    <!-- 通知 -->
    <view style="position: absolute;top: 0;left: 0;width: 100%;z-index: 999;">
        <i-notice-bar icon="systemprompt" color="#1989fa" background-color="#ecf9ff" closable loop>
            {{ notice }}
        </i-notice-bar>
    </view>
  <view style="width:100%;position: absolute;top: 40px;">
    <image src="{{backgroundUrl}}" style="width: 100%;height: 120px;"/>
  </view>
  <view style="width: 100%;">
    <i-row>
      <i-col span="4" offset="1">
        <i-avatar src="{{userInfo.avatarUrl}}" size="large" shape="circle"></i-avatar>
      </i-col>
      <i-col span="24">
        <i-divider size="18" >{{welcome}}，{{userInfo.nickName}}！</i-divider>
      </i-col>  
    </i-row>
   
  </view>
  <view style="width: 100%;">
    <i-row>
      <i-col span="8" offset="1">
        <span style="font-size: 16px;">今日天气：</span>
        <i-grid column-num="1" border="{{false}}">
          <i-grid-item use-slot>
            <view style="width: 100%;">
              <span style="width:auto; display:block; text-align:left;font-size: 10px;color: red;">{{country}}{{province}}{{city}}</span>
              <span style="width:auto; display:block; text-align:left;font-size: 12px;color: #1380c9;">天气：{{weather.today.weather}}</span>
              <span style="width:auto; display:block; text-align:left;font-size: 12px;color: #1380c9;">气温：{{weather.today.temperature}}</span>
              <span style="width:auto; display:block; text-align:left;font-size: 12px;color: #1380c9;">湿度：{{weather.today.humidity}}</span>
              <span style="width:auto; display:block; text-align:left;font-size: 12px;color: #1380c9;">风向：{{weather.today.direct}}{{weather.today.power}}</span>
              <span style="width:auto; display:block; text-align:left;font-size: 12px;color: #1380c9;">空气指数：{{weather.today.aqi}}</span>      
            </view>
           
          </i-grid-item>
        </i-grid>
      </i-col>
      <i-col span="14">
        <span style="font-size: 16px;">今日热搜：</span>
        <i-grid column-num="1" border="{{ false }}">
          <i-grid-item use-slot>
            <view wx:for="{{keywords}}" style="width: 100%;">
              <span style="width:auto; display:block; text-align:left;font-size: 12px;color: #1380c9;max-width: 18em;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;">{{item.name}}</span>
            </view> 
          </i-grid-item>
        </i-grid>
      </i-col>
    </i-row>
    <text>\n</text>
  </view>
  <view style="width: 100%;">
    <i-row>
      <i-col span="24" offset="1">
        <span style="font-size: 16px;">今日头条：</span>
      </i-col>
    </i-row>
    <swiper autoplay="true" class="newsCard" >
      <block wx:for="{{news}}" wx:key="*this">
        <swiper-item bindtap="newInfo" data-url="{{item.url}}" data-content="{{item.content}}">
          <i-card  title="{{item.title}}">
            <view style="width: 100%;" slot="content"><image src="{{item.pic}}"/></view>
          </i-card>
        </swiper-item>
      </block>
    </swiper>
    <text>\n</text>
  </view>
  <view style="width: 100%;">
    <i-row>
      <i-col span="24" offset="1">
        <span style="font-size: 16px;">老黄历：</span>
      </i-col>
    </i-row>
    <text>\n</text>
    <div class="paper">
      <div class="dog-eared-tip">
        <div class="foldtl">
        </div>
          <text>\n</text>
          <span class="yearmonth">{{holidayInfo.year}}年{{holidayInfo.month}}月</span>
          <span class="date">{{holidayInfo.day}}</span>
          <span class="yearmonth">{{holidayInfo.value}}</span>
          <span class="yearmonth">{{holidayInfo.week}}（{{holidayInfo.statusDesc}}）</span>
          <span class="yearmonth">农历：{{holidayInfo.gzYear}}（{{holidayInfo.animal}}）年{{holidayInfo.lMonth}}月{{holidayInfo.lDate}}</span>
          <span class="yi">宜：{{holidayInfo.suit}}</span>
          <span class="ji">忌：{{holidayInfo.avoid}}</span>
          <text>\n</text>
      </div>
    </div>
  </view>
  <view style="width: 100%;position: fixed;bottom: 0px;">
    <i-tab-bar current="{{ current }}" color="#1380c9" bindchange="handleChange">
      <i-tab-bar-item key="home" icon="homepage" current-icon="homepage_fill" title="首页"></i-tab-bar-item>
      <i-tab-bar-item key="message" icon="message" current-icon="message_fill" title="留言"></i-tab-bar-item>
      <i-tab-bar-item key="article" icon="document" current-icon="document_fill" title="文章"></i-tab-bar-item>
      <i-tab-bar-item key="more" icon="feedback" current-icon="feedback_fill" title="更多"></i-tab-bar-item>
    </i-tab-bar>
  </view>
</view>